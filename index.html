<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bombard-Ant: Genetic Algorithm Optimizer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 100%);
            color: #e4e4e4;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px 20px;
            position: relative;
        }

        h1 {
            font-size: 2.8em;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #ff6b6b, #ee5a6f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .subtitle {
            color: #888;
            font-size: 1.1em;
            font-weight: 300;
        }

        .info-btn {
            position: absolute;
            top: 30px;
            right: 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #ff6b6b;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.2em;
            font-weight: bold;
        }

        .info-btn:hover {
            background: rgba(255, 107, 107, 0.2);
            transform: scale(1.1);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 25px;
            margin-bottom: 30px;
        }

        .canvas-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        canvas {
            width: 100%;
            height: 600px;
            background: #000;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: block;
        }

        .controls-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            margin-bottom: 25px;
            color: #ff6b6b;
            font-size: 1.3em;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-group label {
            display: block;
            margin-bottom: 10px;
            color: #ccc;
            font-weight: 400;
            font-size: 0.95em;
        }

        .control-group input[type="range"] {
            width: 100%;
            height: 4px;
            border-radius: 2px;
            background: #333;
            outline: none;
            -webkit-appearance: none;
            margin: 8px 0;
        }

        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #ff6b6b;
            cursor: pointer;
            transition: all 0.2s;
        }

        .control-group input[type="range"]::-webkit-slider-thumb:hover {
            background: #ff5252;
            transform: scale(1.1);
        }

        .control-group input[type="number"] {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: #e4e4e4;
            font-size: 14px;
            transition: all 0.3s;
        }

        .control-group input[type="number"]:focus {
            outline: none;
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
        }

        .value-display {
            display: inline-block;
            float: right;
            color: #ff6b6b;
            font-weight: 500;
            min-width: 40px;
            text-align: right;
        }

        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 25px;
        }

        button {
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            letter-spacing: 0.5px;
        }

        .btn-start {
            background: linear-gradient(45deg, #ff6b6b, #ee5a6f);
            color: white;
            grid-column: 1 / -1;
        }

        .btn-start:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }

        .btn-stop {
            background: rgba(255, 255, 255, 0.1);
            color: #e4e4e4;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-stop:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .btn-reset {
            background: rgba(255, 255, 255, 0.05);
            color: #e4e4e4;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-reset:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .stats {
            background: rgba(255, 107, 107, 0.08);
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
            border: 1px solid rgba(255, 107, 107, 0.2);
        }

        .stats h4 {
            margin-bottom: 15px;
            color: #ff6b6b;
            font-weight: 500;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
            font-size: 0.95em;
        }

        .stat-label {
            color: #aaa;
        }

        .stat-value {
            color: #ff6b6b;
            font-weight: 500;
        }

        .legend {
            margin: 25px 0;
        }

        .legend h4 {
            margin-bottom: 15px;
            color: #ff6b6b;
            font-weight: 500;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-size: 0.9em;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .github-link {
            text-align: center;
            margin: 25px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .github-link a {
            color: #ff6b6b;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .github-link a:hover {
            color: #ff5252;
            transform: translateY(-1px);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 12px;
            padding: 40px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 107, 107, 0.2);
            border: 1px solid rgba(255, 107, 107, 0.3);
            color: #ff6b6b;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
        }

        .close-btn:hover {
            background: rgba(255, 107, 107, 0.3);
            transform: scale(1.1);
        }

        .modal h2 {
            color: #ff6b6b;
            margin-bottom: 25px;
            font-size: 2em;
            font-weight: 300;
        }

        .modal-section {
            margin-bottom: 30px;
        }

        .modal-section h3 {
            color: #ff6b6b;
            margin-bottom: 15px;
            font-size: 1.3em;
            font-weight: 400;
        }

        .modal-section p {
            margin-bottom: 15px;
            color: #ccc;
            line-height: 1.7;
        }

        .modal-section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .modal-section li {
            margin-bottom: 8px;
            color: #ccc;
        }

        .scenario-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .scenario-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .scenario-card h4 {
            color: #ff6b6b;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .footer {
            text-align: center;
            padding: 30px 20px;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #666;
            font-size: 0.9em;
        }

        .footer a {
            color: #ff6b6b;
            text-decoration: none;
            transition: all 0.3s;
        }

        .footer a:hover {
            color: #ff5252;
        }

        .powered-by {
            font-style: italic;
            margin-top: 8px;
            opacity: 0.8;
        }

        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.2em;
            }
            
            .button-group {
                grid-template-columns: 1fr;
            }
            
            .scenario-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                margin: 20px;
                padding: 30px 20px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>Bombard-Ant</h1>
            <p class="subtitle">Genetic Algorithm-Powered Bomb Placement Optimizer</p>
            <div class="info-btn" onclick="openDocumentation()">‚Ñπ</div>
        </header>

        <div class="main-content">
            <div class="canvas-section">
                <canvas id="canvas"></canvas>
            </div>

            <div class="controls-section">
                <h3 class="section-title">Controls</h3>
                
                <div class="button-group">
                    <button class="btn-start" onclick="startSimulation()">‚ñ∂ Start Evolution</button>
                    <button class="btn-stop" onclick="stopSimulation()">‚è∏ Pause</button>
                    <button class="btn-reset" onclick="resetSimulation()">‚Üª Reset</button>
                </div>

                <div class="control-group">
                    <label>
                        Population Size
                        <span class="value-display" id="popSizeValue">50</span>
                    </label>
                    <input type="range" id="popSize" min="10" max="200" value="50" oninput="updateValue('popSize', this.value)">
                </div>

                <div class="control-group">
                    <label>
                        Mutation Rate
                        <span class="value-display" id="mutationValue">2%</span>
                    </label>
                    <input type="range" id="mutation" min="1" max="50" value="2" oninput="updateValue('mutation', this.value)">
                </div>

                <div class="control-group">
                    <label>
                        Crossover Rate
                        <span class="value-display" id="crossoverValue">80%</span>
                    </label>
                    <input type="range" id="crossover" min="10" max="100" value="80" oninput="updateValue('crossover', this.value)">
                </div>

                <div class="control-group">
                    <label>
                        Bomb Radius
                        <span class="value-display" id="radiusValue">10</span>
                    </label>
                    <input type="range" id="radius" min="5" max="30" value="10" oninput="updateValue('radius', this.value)">
                </div>

                <div class="control-group">
                    <label>Number of Bombs</label>
                    <input type="number" id="bombCount" min="1" max="10" value="3">
                </div>

                <div class="control-group">
                    <label>Number of Nests</label>
                    <input type="number" id="nestCount" min="1" max="8" value="3">
                </div>

                <div class="stats">
                    <h4>Statistics</h4>
                    <div class="stat-item">
                        <span class="stat-label">Generation:</span>
                        <span class="stat-value" id="generation">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Best Fitness:</span>
                        <span class="stat-value" id="bestFitness">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Ants:</span>
                        <span class="stat-value" id="totalAnts">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Kill Rate:</span>
                        <span class="stat-value" id="killRate">0%</span>
                    </div>
                </div>

                <div class="legend">
                    <h4>Legend</h4>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #8b4513;"></div>
                        <span>Ant Nests</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ff4444;"></div>
                        <span>Bombs</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: rgba(255, 68, 68, 0.2); border: 1px solid #ff4444;"></div>
                        <span>Blast Radius</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #00ff00;"></div>
                        <span>Live Ants</span>
                    </div>
                </div>

                <div class="github-link">
                    <a href="https://github.com/retr0sity/bombard-ant" target="_blank">
                        <span>üìÅ</span>
                        <span>View Source Code on GitHub</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Documentation Modal -->
        <div id="documentationModal" class="modal">
            <div class="modal-content">
                <span class="close-btn" onclick="closeDocumentation()">√ó</span>
                
                <h2>Bombard-Ant Documentation</h2>
                
                <div class="modal-section">
                    <h3>What is Bombard-Ant?</h3>
                    <p>
                        Bombard-Ant is an interactive simulation that demonstrates genetic algorithms by solving 
                        the optimization problem of placing bombs to maximize ant extermination across multiple nests.
                    </p>
                </div>

                <div class="modal-section">
                    <h3>Genetic Algorithm Concepts</h3>
                    <p>This simulation teaches several key concepts in evolutionary computation:</p>
                    <ul>
                        <li><strong>Population:</strong> A set of candidate solutions (bomb placements)</li>
                        <li><strong>Chromosomes:</strong> Individual solutions represented as bomb coordinates</li>
                        <li><strong>Fitness Function:</strong> Measures how effective a solution is (ants killed)</li>
                        <li><strong>Selection:</strong> Roulette wheel selection chooses parents based on fitness</li>
                        <li><strong>Crossover:</strong> Combines genetic material from two parents</li>
                        <li><strong>Mutation:</strong> Introduces random changes to maintain diversity</li>
                        <li><strong>Evolution:</strong> The process of generating new populations over generations</li>
                    </ul>
                </div>

                <div class="modal-section">
                    <h3>How It Works</h3>
                    <p>
                        The algorithm starts with random bomb placements and evolves better solutions over generations.
                        Each chromosome represents bomb positions, and the fitness is calculated based on how many ants
                        are within the blast radius of each bomb. The kill calculation considers both distance from nests
                        and the maximum distance between any two nests in the environment.
                    </p>
                </div>

                <div class="modal-section">
                    <h3>Learning Scenarios</h3>
                    <div class="scenario-grid">
                        <div class="scenario-card">
                            <h4>Parameter Tuning</h4>
                            <p>Experiment with different mutation rates, population sizes, and crossover rates to see how they affect convergence speed and solution quality.</p>
                        </div>
                        <div class="scenario-card">
                            <h4>Constraint Exploration</h4>
                            <p>Test how changing bomb radius and count affects the optimization landscape and solution strategies.</p>
                        </div>
                        <div class="scenario-card">
                            <h4>Fitness Landscape</h4>
                            <p>Observe how the algorithm navigates complex multi-modal fitness landscapes with multiple local optima.</p>
                        </div>
                        <div class="scenario-card">
                            <h4>Real-world Applications</h4>
                            <p>Understand how similar algorithms optimize resource placement, facility location, and coverage problems.</p>
                        </div>
                    </div>
                </div>

                <div class="modal-section">
                    <h3>Real-World Applications</h3>
                    <p>
                        The concepts demonstrated here apply to numerous real-world optimization problems:
                        facility location, wireless network coverage, sensor placement, resource allocation,
                        and any scenario requiring optimal placement of resources with coverage constraints.
                    </p>
                </div>

                <div class="modal-section">
                    <h3>Technical Details</h3>
                    <p>
                        <strong>Algorithm:</strong> Steady-state genetic algorithm with roulette wheel selection<br>
                        <strong>Representation:</strong> Real-valued coordinates for bomb positions<br>
                        <strong>Fitness:</strong> Weighted kill count based on distance and ant population<br>
                        <strong>Termination:</strong> Fixed number of generations (100 by default)
                    </p>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>¬© 2024 Bombard-Ant Simulation</p>
            <p class="powered-by">Powered by <a href="https://github.com/retr0sity" target="_blank">Ioannis Karkalas</a></p>
        </footer>
    </div>

    <script src="script.js"></script>
    <script>
        // Modal functionality
        function openDocumentation() {
            document.getElementById('documentationModal').style.display = 'flex';
        }

        function closeDocumentation() {
            document.getElementById('documentationModal').style.display = 'none';
        }

        // Close modal when clicking outside content
        window.onclick = function(event) {
            const modal = document.getElementById('documentationModal');
            if (event.target === modal) {
                closeDocumentation();
            }
        }

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeDocumentation();
            }
        });
    </script>
</body>
</html>